//Use "REST Client" and SQLite Extensions for this file.

// Get ALL ads
POST http://localhost:3010/
Content-Type: application/json

{
    "query": "query QueryAllAds { getAllAds { title createdAt category { name } tags { name } } }"
}

###
// Get ad with id
POST http://localhost:3010/
Content-Type: application/json

{
  "query": "query ExampleQuery($getAdById: Float!) { getAdById(id: $getAdById) { id title } }",
  "variables": {
    "getAdById": 280
  }
}

###
# // Get Ad by name whith query
POST http://localhost:3010/
Content-Type: application/json

{
  "query": "query ExampleQuery($title: String!) { getAdByTitle(title: $title) { id title category { id name } }}",
    "variables": {
    "title": "moire"
  }
}


###

//Get filtered Ads by category 
POST http://localhost:3010/
Content-Type: application/json

{
  "query": "query ExampleQuery( $name: String!) { getAdsByCategory(name: $name) { id title description owner price picture location createdAt category { id name } tags { id name } }}",
    "variables": {
    "name": "meu"
  }
}

 
###
 //Get filtered Add by tag where :tag start with params
POST http://localhost:3010/
Content-Type: application/json

{
  "query": "query ExampleQuery($name: String!) {getAdsByTag(name: $name) { id title tags { id name }}}",
    "variables": {
    "name": "vieux"
  }
}


###
POST http://localhost:3010/
Content-Type: application/json

{
  "query": "mutation AddAd($adData: AdsInput!) { AddAd(adData: $adData) { id title description category { name id } }}",
  "variables": {
      "adData": {
        "title": "coucou",
        "owner": "Florian",
        "description": "j'aime les poulet",
        "category": {
          "name": "poulet de bois"
        }
      }
    }
}


# ###

# PUT http://localhost:3010/ads/17
# Content-Type: application/json

# {
#     "title": "Un coup, quatre trous",
#     "description": "combat de fourchette",
#     "price": 150,
#     "picture": "fourchette.jpg",
#     "location": "Remote",
#     "createdAt": "2024-06-02",
#     "category": "fourchette",
#     "tags":"Antique,Cool"

# }

###
# // Delete row with id
POST http://localhost:3010/
Content-Type: application/json

{
  "query": "mutation Mutation($deleteAdId: Float!) { deleteAd(id: $deleteAdId)}",
  "variables": {
  "deleteAdId": 285
}
}

